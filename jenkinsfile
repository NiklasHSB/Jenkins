node {
    parameters {
        string(name: 'VERSION', defaultValue: '', description: 'version to deploy on prod')
        choice(name: 'VERSION', choices: ['1.1.0', '1.2.0', '1.3.0'], description: '')
        booleanParam(name:'executeTests', defaultValue: true, desription:'')
        
    }
    def sum = 5+10;
    String hello = "Hello World";
    stage('Preparation') {
        if(params.executeTests) {
            println "this is true"    
           
        }
        println "This is Preperation stage. The result of 5 + 10 is $sum"
        println "${params.VERSION}"
    }
    stage('Install Helm') {
         sh 'wget https://get.helm.sh/helm-v3.6.1-linux-amd64.tar.gz'
         sh 'ls -a'
         sh 'tar -xvzf helm-v3.6.1-linux-amd64.tar.gz'
         sh 'sudo cp linux-amd64/helm /usr/bin'
         sh 'helm version'
         sh 'helm pull bitnami/wordpress'
    }
    stage('Build') {
        echo "This is Build stage, try $hello"
        bash '''#!/bin/bash
                 echo "hello world" 
                 
         '''
    }
    stage('Results') {
        echo "this is result stage"
    }
}
